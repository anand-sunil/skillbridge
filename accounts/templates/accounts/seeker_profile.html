{% extends "base.html" %}
{% block title %}{{ seeker.username }}'s Profile{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto mt-20 px-6">

    <!-- Back Button -->
    <button onclick="history.back()"
        class="flex items-center text-gray-600 hover:text-blue-600 font-semibold mb-6 transition">
        ‚Üê Back
    </button>

    <!-- PROFILE CARD -->
    <div class="glass rounded-3xl p-8 shadow-xl fade-up">

        <div class="flex items-center gap-6">
            <!-- Avatar -->
            <div
                class="w-24 h-24 rounded-full bg-gradient-to-r from-blue-600 to-violet-600 flex items-center justify-center text-white text-4xl font-bold overflow-hidden">
                {% if seeker.avatar %}
                <img src="{{ seeker.avatar.url }}" alt="{{ seeker.username }}" class="w-full h-full object-cover">
                {% else %}
                {{ seeker.username|slice:":1"|upper }}
                {% endif %}
            </div>

            <!-- Info -->
            <div>
                <h2 class="text-3xl font-bold text-gray-900">{{ seeker.username }}</h2>
                <p class="text-gray-600">{{ seeker.email }}</p>

                <span class="inline-block mt-2 px-4 py-1 text-sm rounded-full bg-green-100 text-green-700">
                    Job Seeker
                </span>

                <a href="{% url 'start_chat' seeker.id %}"
                    class="inline-flex items-center gap-2 ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition shadow-md">
                    <i class="fa-regular fa-paper-plane"></i> Message
                </a>
            </div>
        </div>
    </div>

    <!-- DETAILS -->
    <div class="grid md:grid-cols-2 gap-8 mt-10">

        <!-- OVERVIEW -->
        <div class="glass rounded-2xl p-6 shadow-lg fade-up">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Profile Overview</h3>

            <ul class="space-y-3 text-gray-700">
                <li><strong>Username:</strong> {{ seeker.username }}</li>
                <li><strong>Email:</strong> {{ seeker.email }}</li>
                <li><strong>Joined:</strong> {{ seeker.date_joined|date:"M d, Y" }}</li>
            </ul>
        </div>

        <!-- RESUME & SKILLS -->
        <div class="glass rounded-2xl p-6 shadow-lg fade-up">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Resume & Skills</h3>

            {% if seeker.jobseekerprofile %}
            <div class="space-y-4">
                {% if seeker.jobseekerprofile.resume %}
                <div class="p-4 bg-blue-50 rounded-xl border border-blue-100 items-center justify-between flex">
                    <span class="font-semibold text-blue-900">Resume Available</span>
                    <a href="{{ seeker.jobseekerprofile.resume.url }}" target="_blank"
                        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                        View Resume
                    </a>
                </div>
                {% else %}
                <p class="text-gray-500 italic">No resume uploaded to profile.</p>
                {% endif %}

                {% if seeker.jobseekerprofile.skills %}
                <div>
                    <strong class="block text-gray-900 mb-1">Skills:</strong>
                    <p class="text-gray-700">{{ seeker.jobseekerprofile.skills }}</p>
                </div>
                {% endif %}

                {% if seeker.jobseekerprofile.bio %}
                <div>
                    <strong class="block text-gray-900 mb-1">Bio:</strong>
                    <p class="text-gray-700">{{ seeker.jobseekerprofile.bio }}</p>
                </div>
                {% endif %}
            </div>
            {% else %}
            <p class="text-gray-500 italic">Job Seeker profile details not completed yet.</p>
            {% endif %}
        </div>

    </div>
</div>

<style>
    .glass {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
</style>
{% endblock %}