{% extends "base.html" %}
{% block title %}Apply for {{ job.title }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-20 px-6">
    <div class="glass rounded-3xl p-10 shadow-xl fade-up">

        <h1 class="text-3xl font-bold text-gray-900 mb-2">Apply for {{ job.title }}</h1>
        <p class="text-gray-600 mb-8">at <span class="font-semibold">{{ job.recruiter.username }}</span></p>

        <form method="POST" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Upload Resume / CV</label>
                <input type="file" name="resume" accept=".pdf,.doc,.docx" class="block w-full text-sm text-gray-500
                              file:mr-4 file:py-2 file:px-4
                              file:rounded-full file:border-0
                              file:text-sm file:font-semibold
                              file:bg-blue-50 file:text-blue-700
                              hover:file:bg-blue-100 transition">
                <p class="text-xs text-gray-500 mt-2">
                    Optional. If you don't upload one, we will use your profile resume (if available).
                </p>
                {% if user.jobseekerprofile.resume %}
                <p class="text-xs text-green-600 mt-1">
                    âœ“ Profile resume available: {{ user.jobseekerprofile.resume.name }}
                </p>
                {% endif %}
            </div>

            <div class="flex gap-4 pt-4">
                <button type="submit"
                    class="flex-1 py-3 bg-gradient-to-r from-blue-600 to-violet-600 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition">
                    Submit Application
                </button>
                <a href="{% url 'job_detail' job.id %}"
                    class="flex-1 py-3 bg-gray-100 text-gray-700 text-center rounded-xl font-semibold hover:bg-gray-200 transition">
                    Cancel
                </a>
            </div>
        </form>

    </div>
</div>

<style>
    .glass {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
    }
</style>
{% endblock %}